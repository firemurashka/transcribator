(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("drop-area"),t=document.getElementById("loading-bar"),n=document.getElementById("file-upload"),o=document.getElementById("upload-button");e.querySelector(".trancrib-text"),t.querySelector("span");function a(t){e.classList.remove("trancrib-default","file-is-loading","loading-is-complete","decoding","file-is-ready"),e.classList.add(t)}a("trancrib-default"),n.addEventListener("change",(function(){a("file-is-loading"),setTimeout((()=>{t.classList.add("loading"),setTimeout((()=>{t.classList.remove("loading"),t.classList.add("loaded"),n.files[0].name,a("loading-is-complete"),setTimeout((()=>{a("decoding"),setTimeout((()=>{a("file-is-ready"),setTimeout((()=>{$.fancybox.open({src:"#modal-oplata",type:"inline"})}),1500)}),2e3)}),1500)}),5e3)}),1e3)})),o.addEventListener("click",(function(){n.click()}))}));if(document.querySelector(".swiper")){function n(){const e=document.querySelector(".plane__btn"),t=document.querySelector(".plane__bottom-items");e.addEventListener("click",(()=>{t.classList.toggle("active")}))}function o(){window.addEventListener("scroll",(()=>{const e=document.querySelector(".fairway__row"),t=document.querySelector(".fairway__row-back"),n=e.offsetHeight,o=c(e).top;let a=window.innerHeight-n/4;scrollY>o-a&&scrollY<o+n&&(t.style.animation="fairway 2.2s forwards")}))}function a(){window.addEventListener("scroll",(()=>{const e=document.querySelector(".mentors__line"),t=document.querySelector(".mentors__line-bg-2"),n=e.offsetHeight,o=c(e).top;let a=window.innerHeight-n/4;scrollY>o-a&&scrollY<o+n&&t.classList.add("active")}))}function l(){window.addEventListener("scroll",(()=>{const e=document.querySelector(".choice__items"),t=document.querySelector(".ci-1"),n=document.querySelector(".ci-2"),o=document.querySelector(".ci-3"),a=e.offsetHeight,l=c(e).top;let r=window.innerHeight-a/4;scrollY>l-r&&scrollY<l+a&&(t.style.animation="ci-1 0.5s forwards",n.style.animation="ci-2 0.5s forwards",n.style.animationDelay="0.5s",o.style.animation="ci-3 0.5s forwards",o.style.animationDelay="1s")}))}function r(){const e=navigator.userAgent.toLowerCase(),t=/firefox/.test(e),n=document.querySelector(".fairway__link");t&&(n.style.marginTop="-7px")}function s(){const e=document.querySelector(".scrollUp");window.addEventListener("scroll",(()=>{scrollY>499?e.classList.add("active"):e.classList.remove("active")})),e.addEventListener("click",(()=>{$("html, body").animate({scrollTop:$("#top").offset().top},"slow")}))}new Swiper(".swiper",{speed:400,spaceBetween:50,slidesPerView:1,allowTouchMove:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});function c(e){const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+n}}n(),o(),a(),l(),document.querySelectorAll(".swiper-item__text").forEach((e=>{e.textContent.length>709?e.textContent=e.textContent.slice(0,709)+"...":e.textContent=e.textContent})),r(),s(),document.getElementById("mentors-igor").addEventListener("click",(()=>{localStorage.setItem("mentor","igor")}))}!function(){const e=new JustValidate(".modal-request__form"),t=new Inputmask("+7 (999) 999-99-99"),n=document.querySelector(".modal-request__phone");t.mask(n),e.addField(".modal-request__name",[{rule:"minLength",value:2},{rule:"maxLength",value:50},{rule:"required",value:!0,errorMessage:"Введите имя"}]).addField(".modal-request__phone",[{rule:"required",value:!0,errorMessage:"Введите телефон"}]).onSuccess((e=>{let t=new FormData(e.target),n=new XMLHttpRequest;console.log(...t),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&console.log("отправлено")},$.fancybox.close("fancybox-content"),$.fancybox.open({src:"#modal-thanks",type:"inline"}),n.open("POST","mail.php",!0),n.send(t),e.target.reset()}))}(),function(){const e=document.querySelector(".modal-request__btn"),t=document.querySelector(".modal-request__name"),n=document.querySelector(".modal-request__phone");function o(){t.value.length>1&&n.value.length>1?e.classList.add("active"):e.classList.remove("active")}t.addEventListener("input",(e=>{o()})),n.addEventListener("input",(e=>{o()}))}(),function(){const e=document.querySelector(".body-mentors"),t=localStorage.getItem("mentor");e&&t&&($(document).ready((function(){$("html, body").animate({scrollTop:$("#igor").offset().top-160},"slow")})),localStorage.clear())}(),function(){const e=document.querySelector(".scrollUp");window.addEventListener("scroll",(()=>{scrollY>499?e.classList.add("active"):e.classList.remove("active")})),e.addEventListener("click",(()=>{$("html, body").animate({scrollTop:$("#top").offset().top},"slow")}))}(),document.addEventListener("DOMContentLoaded",(function(){new JustValidate(".modal-oplata__form").addField(".modal-oplata__name",[{rule:"minLength",value:2},{rule:"maxLength",value:50},{rule:"required",value:!0,errorMessage:"Введите имя"}]).addField(".modal-oplata__email",[{rule:"required",value:!0,errorMessage:"Введите электронную почту"},{rule:"email",value:!0,errorMessage:"Введите действующий электронный адрес"}]).onSuccess((e=>{let t=new FormData(e.target),n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(console.log("отправлено"),function(e){$.fancybox.close();const t=document.querySelector(".hidden-name"),n=document.querySelector(".hidden-email");t.value=e.get("Имя"),n.value=e.get("email"),$.fancybox.open({src:"#modal-pay",type:"inline"})}(t))},n.open("POST","oplata.php",!0),n.send(t),e.target.reset()})),new JustValidate(".modal-pay__form").addField('input[name="payment_method"]',[{rule:"required",value:!0,errorMessage:"Выберите метод оплаты"}]).onSuccess((e=>{let t=new FormData(e.target),n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(console.log("оплата отправлена"),$.fancybox.close(),$.fancybox.open({src:"#file-sent",type:"inline"}))},n.open("POST","pay.php",!0),n.send(t),e.target.reset()})),function(){const e=document.querySelector(".modal-oplata__btn"),t=document.querySelector(".modal-oplata__name"),n=document.querySelector(".modal-oplata__email");function o(){const o=t.value.length>1&&n.value.length>1;e.classList.toggle("active",o)}t.addEventListener("input",o),n.addEventListener("input",o)}(),function(){const e=document.querySelector(".modal-pay__btn");function t(){const t=document.querySelector('input[name="payment_method"]:checked');e.classList.toggle("active",!!t)}document.querySelectorAll('input[name="payment_method"]').forEach((e=>{e.addEventListener("change",t)}))}()})),importScripts("https://storage.googleapis.com/workbox-cdn/releases/5.1.2/workbox-sw.js");const e="pwabuilder-page",t="offline.html";self.addEventListener("message",(e=>{e.data&&"SKIP_WAITING"===e.data.type&&self.skipWaiting()})),self.addEventListener("install",(async n=>{n.waitUntil(caches.open(e).then((e=>e.add(t))))})),workbox.navigationPreload.isSupported()&&workbox.navigationPreload.enable(),self.addEventListener("fetch",(n=>{"navigate"===n.request.mode&&n.respondWith((async()=>{try{const e=await n.preloadResponse;if(e)return e;return await fetch(n.request)}catch(n){const o=await caches.open(e);return await o.match(t)}})())}))})();